<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MeruQuest v3.0 - Life Simulation RPG</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Segoe UI',sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;min-height:100vh}
.logo-screen{position:fixed;top:0;left:0;width:100%;height:100vh;background:linear-gradient(135deg,#e74c3c 0%,#c0392b 100%);display:flex;justify-content:center;align-items:center;z-index:10000;transition:opacity 1s}
.logo-screen.hide{opacity:0;pointer-events:none}
.logo-content{text-align:center;animation:fadeIn 1.5s}
.logo-title{font-size:5em;font-weight:900;margin-bottom:20px}
@keyframes fadeIn{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:scale(1)}}
.screen{display:none;min-height:100vh;padding:20px}
.screen.active{display:block}
.container{max-width:1400px;margin:0 auto;padding:80px 20px}
.menu-header{text-align:center;margin-bottom:60px}
.menu-title{font-size:4em;background:linear-gradient(135deg,#f1c40f 0%,#e74c3c 50%,#9b59b6 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.mode-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:30px;margin:40px 0}
.mode-card{background:rgba(255,255,255,.1);border-radius:25px;padding:40px;cursor:pointer;transition:all .3s;border:3px solid transparent}
.mode-card:hover{transform:translateY(-10px);border-color:rgba(255,255,255,.5)}
.mode-card.selected{border-color:#f1c40f;box-shadow:0 10px 40px rgba(241,196,15,.6)}
.settings-panel{background:rgba(0,0,0,.4);padding:40px;border-radius:25px;margin-top:30px}
.setting-group{margin:20px 0}
.setting-group label{display:block;font-size:1.2em;font-weight:bold;margin-bottom:10px}
.setting-group input{width:100%;padding:15px;border-radius:10px;border:2px solid rgba(255,255,255,.3);background:rgba(255,255,255,.1);color:#fff;font-size:1.1em}
.start-btn{width:100%;padding:20px;background:linear-gradient(135deg,#f1c40f 0%,#e67e22 100%);border:none;border-radius:15px;color:#333;font-size:1.8em;font-weight:bold;cursor:pointer;margin-top:30px}
.start-btn:hover{transform:scale(1.02)}
.game-container{padding:20px}
.board{display:grid;grid-template-columns:repeat(10,1fr);gap:5px;max-width:800px;margin:30px auto;background:rgba(0,0,0,.3);padding:15px;border-radius:20px}
.space{aspect-ratio:1;display:flex;justify-content:center;align-items:center;border-radius:8px;font-size:0.8em;font-weight:bold;cursor:pointer;transition:all .2s}
.space:hover{transform:scale(1.05)}
.space.start{background:linear-gradient(135deg,#2ecc71,#27ae60)}
.space.job{background:linear-gradient(135deg,#3498db,#2980b9)}
.space.school{background:linear-gradient(135deg,#9b59b6,#8e44ad)}
.space.event{background:linear-gradient(135deg,#f39c12,#e67e22)}
.space.property{background:linear-gradient(135deg,#e67e22,#d35400)}
.space.rest{background:linear-gradient(135deg,#1abc9c,#16a085)}
.space.hospital{background:linear-gradient(135deg,#e74c3c,#c0392b)}
.space.trouble{background:linear-gradient(135deg,#c0392b,#a93226)}
.space.chance{background:linear-gradient(135deg,#f1c40f,#f39c12)}
.space.goal{background:linear-gradient(135deg,#2ecc71,#27ae60)}
.player-piece{width:20px;height:20px;border-radius:50%;position:absolute;border:2px solid #fff;animation:bounce .5s}
@keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
.players-panel{display:flex;gap:20px;margin:20px 0;flex-wrap:wrap}
.player-card{flex:1;min-width:250px;background:rgba(0,0,0,.5);padding:20px;border-radius:15px;border:3px solid transparent}
.player-card.active{border-color:#f1c40f;box-shadow:0 0 20px rgba(241,196,15,.6)}
.stat-row{display:flex;justify-content:space-between;margin:10px 0}
.stat-bar{width:100%;height:10px;background:rgba(0,0,0,.3);border-radius:5px;margin-top:5px;overflow:hidden}
.stat-fill{height:100%;transition:width .3s}
.action-panel{background:rgba(0,0,0,.5);padding:20px;border-radius:15px;margin:20px 0}
.action-btns{display:flex;gap:10px;flex-wrap:wrap;justify-content:center}
.action-btn{padding:15px 30px;border:none;border-radius:12px;font-size:1.2em;font-weight:bold;cursor:pointer;color:#fff;transition:all .3s}
.btn-roll{background:linear-gradient(135deg,#e74c3c,#c0392b)}
.btn-end{background:linear-gradient(135deg,#95a5a6,#7f8c8d)}
.action-btn:hover:not(:disabled){transform:translateY(-3px)}
.action-btn:disabled{opacity:.5;cursor:not-allowed}
.dice-container{display:flex;gap:15px;justify-content:center;margin:20px 0}
.dice{width:60px;height:60px;background:#fff;border-radius:10px;display:flex;justify-content:center;align-items:center;font-size:2.5em;color:#333;animation:spin .5s}
@keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}
.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100vh;background:rgba(0,0,0,.95);z-index:5000;justify-content:center;align-items:center}
.modal.active{display:flex}
.modal-content{background:linear-gradient(135deg,#2c3e50,#34495e);padding:40px;border-radius:25px;max-width:600px;width:90%;border:3px solid #f1c40f;text-align:center}
.modal-content h2{font-size:2.5em;margin-bottom:20px;color:#f1c40f}
.modal-btns{display:flex;gap:15px;margin-top:30px}
.modal-btn{flex:1;padding:15px;border:none;border-radius:12px;font-size:1.2em;font-weight:bold;cursor:pointer;color:#fff}
.toast{position:fixed;bottom:30px;left:50%;transform:translateX(-50%) translateY(150px);background:rgba(0,0,0,.9);padding:15px 30px;border-radius:50px;font-size:1.1em;z-index:6000;transition:transform .3s;border:2px solid}
.toast.show{transform:translateX(-50%) translateY(0)}
.toast.success{border-color:#2ecc71}
.toast.error{border-color:#e74c3c}
.toast.info{border-color:#3498db}
.nav-btn{position:fixed;top:20px;left:20px;background:rgba(0,0,0,.7);color:#fff;border:2px solid rgba(255,255,255,.3);padding:12px 25px;border-radius:50px;cursor:pointer;font-size:1.1em;z-index:1000}
.nav-btn:hover{background:rgba(255,255,255,.2)}
</style>
</head>
<body>
<div class="logo-screen" id="logoScreen">
<div class="logo-content">
<div class="logo-title">ğŸ—ºï¸ MeruQuest</div>
<p style="font-size:1.5em">Life Simulation RPG</p>
</div>
</div>

<button class="nav-btn" onclick="window.location.href='index.html'">â† MeruHub</button>

<div id="menuScreen" class="screen active">
<div class="container">
<div class="menu-header">
<h1 class="menu-title">MeruQuest v3.0</h1>
<p style="font-size:1.5em;margin-top:15px">40ãƒã‚¹ã®äººç”Ÿå†’é™ºã‚²ãƒ¼ãƒ </p>
</div>
<h2 style="text-align:center;font-size:2em;margin-bottom:30px">ãƒ¢ãƒ¼ãƒ‰é¸æŠ</h2>
<div class="mode-grid">
<div class="mode-card" onclick="selectMode('pvp')">
<h3 style="font-size:2em;margin-bottom:15px">ğŸ‘¥ å¯¾äººæˆ¦</h3>
<p>2äººã§å¯¾æˆ¦</p>
</div>
<div class="mode-card" onclick="selectMode('cpu')">
<h3 style="font-size:2em;margin-bottom:15px">ğŸ¤– CPUå¯¾æˆ¦</h3>
<p>ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã¨å¯¾æˆ¦</p>
</div>
</div>
</div>
</div>

<div id="settingsScreen" class="screen">
<div class="container">
<div class="settings-panel">
<h3 style="text-align:center;font-size:2.5em;margin-bottom:30px;color:#f1c40f">âš™ï¸ ã‚²ãƒ¼ãƒ è¨­å®š</h3>
<div class="setting-group">
<label>ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼1ã®åå‰</label>
<input type="text" id="p1Name" value="ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼1">
</div>
<div class="setting-group">
<label>ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼2ã®åå‰</label>
<input type="text" id="p2Name" value="ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼2">
</div>
<div style="display:flex;gap:15px">
<button class="start-btn" style="flex:1;background:linear-gradient(135deg,#95a5a6,#7f8c8d)" onclick="showScreen('menuScreen')">â† æˆ»ã‚‹</button>
<button class="start-btn" style="flex:2" onclick="startGame()">ğŸ® é–‹å§‹</button>
</div>
</div>
</div>
</div>

<div id="gameScreen" class="screen">
<div class="game-container">
<div class="players-panel">
<div class="player-card active" id="p1Card">
<h3 id="p1NameDisplay">ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼1</h3>
<div class="stat-row"><span>ğŸ’° ãŠé‡‘</span><span id="p1Money">5000å††</span></div>
<div class="stat-row"><span>ğŸ“ ä½ç½®</span><span id="p1Pos">ã‚¹ã‚¿ãƒ¼ãƒˆ</span></div>
<div class="stat-row"><span>â¤ï¸ ä½“åŠ›</span><span id="p1Health">100</span></div>
<div class="stat-bar"><div class="stat-fill" id="p1HealthBar" style="width:100%;background:#e74c3c"></div></div>
<div class="stat-row"><span>âš¡ ã‚¨ãƒãƒ«ã‚®ãƒ¼</span><span id="p1Energy">100</span></div>
<div class="stat-bar"><div class="stat-fill" id="p1EnergyBar" style="width:100%;background:#f39c12"></div></div>
</div>
<div class="player-card" id="p2Card">
<h3 id="p2NameDisplay">ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼2</h3>
<div class="stat-row"><span>ğŸ’° ãŠé‡‘</span><span id="p2Money">5000å††</span></div>
<div class="stat-row"><span>ğŸ“ ä½ç½®</span><span id="p2Pos">ã‚¹ã‚¿ãƒ¼ãƒˆ</span></div>
<div class="stat-row"><span>â¤ï¸ ä½“åŠ›</span><span id="p2Health">100</span></div>
<div class="stat-bar"><div class="stat-fill" id="p2HealthBar" style="width:100%;background:#e74c3c"></div></div>
<div class="stat-row"><span>âš¡ ã‚¨ãƒãƒ«ã‚®ãƒ¼</span><span id="p2Energy">100</span></div>
<div class="stat-bar"><div class="stat-fill" id="p2EnergyBar" style="width:100%;background:#f39c12"></div></div>
</div>
</div>
<div class="action-panel">
<h3 style="text-align:center;font-size:2em;margin-bottom:20px;color:#f1c40f">ğŸ® ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</h3>
<div class="action-btns">
<button class="action-btn btn-roll" id="rollBtn" onclick="rollDice()">ğŸ² ã‚µã‚¤ã‚³ãƒ­</button>
<button class="action-btn btn-end" id="endBtn" onclick="endTurn()" disabled>âœ… ã‚¿ãƒ¼ãƒ³çµ‚äº†</button>
</div>
<div class="dice-container" id="diceContainer" style="display:none">
<div class="dice" id="dice1">?</div>
<div class="dice" id="dice2">?</div>
</div>
</div>
<div class="board" id="board"></div>
</div>
</div>

<div class="modal" id="resultModal">
<div class="modal-content">
<h2 id="resultTitle">ã‚²ãƒ¼ãƒ çµ‚äº†ï¼</h2>
<p id="resultText" style="font-size:1.5em;margin:20px 0"></p>
<div class="modal-btns">
<button class="modal-btn" style="background:linear-gradient(135deg,#2ecc71,#27ae60)" onclick="restartGame()">ğŸ”„ ã‚‚ã†ä¸€åº¦</button>
<button class="modal-btn" style="background:linear-gradient(135deg,#e74c3c,#c0392b)" onclick="backToMenu()">ğŸ“‹ ãƒ¡ãƒ‹ãƒ¥ãƒ¼</button>
</div>
</div>
</div>

<div id="toast" class="toast"></div>

<script>
const SPACES=[
{id:0,type:'start',name:'ã‚¹ã‚¿ãƒ¼ãƒˆ'},{id:1,type:'job',name:'ä¼šç¤¾'},{id:2,type:'school',name:'å›³æ›¸é¤¨'},{id:3,type:'event',name:'ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ¼'},
{id:4,type:'property',name:'ä¸€è»’å®¶',price:2000,rent:300},{id:5,type:'job',name:'ãƒã‚¤ãƒˆ'},{id:6,type:'rest',name:'å…¬åœ’'},{id:7,type:'chance',name:'ãƒãƒ£ãƒ³ã‚¹'},
{id:8,type:'school',name:'å­¦æ ¡'},{id:9,type:'event',name:'å±•ç¤ºä¼š'},{id:10,type:'property',name:'ã‚¢ãƒ‘ãƒ¼ãƒˆ',price:3000,rent:500},{id:11,type:'hospital',name:'ç—…é™¢'},
{id:12,type:'job',name:'ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ'},{id:13,type:'trouble',name:'é¢¨é‚ª'},{id:14,type:'rest',name:'ã‚«ãƒ•ã‚§'},{id:15,type:'property',name:'åº—èˆ—',price:4000,rent:700},
{id:16,type:'school',name:'ã‚»ãƒŸãƒŠãƒ¼'},{id:17,type:'chance',name:'ãƒãƒ£ãƒ³ã‚¹'},{id:18,type:'event',name:'ãƒœãƒ©ãƒ³ãƒ†ã‚£ã‚¢'},{id:19,type:'job',name:'å‰¯æ¥­'},
{id:20,type:'property',name:'å·¥å ´',price:5000,rent:1000},{id:21,type:'hospital',name:'ã‚¯ãƒªãƒ‹ãƒƒã‚¯'},{id:22,type:'rest',name:'ã‚¹ãƒ‘'},{id:23,type:'trouble',name:'äº‹æ•…'},
{id:24,type:'event',name:'ã‚³ãƒ³ã‚µãƒ¼ãƒˆ'},{id:25,type:'property',name:'ã‚ªãƒ•ã‚£ã‚¹',price:6000,rent:1200},{id:26,type:'job',name:'èµ·æ¥­'},{id:27,type:'chance',name:'ãƒãƒ£ãƒ³ã‚¹'},
{id:28,type:'school',name:'å¤§å­¦'},{id:29,type:'event',name:'ã‚³ãƒ³ãƒš'},{id:30,type:'property',name:'ãƒ›ãƒ†ãƒ«',price:7000,rent:1400},{id:31,type:'hospital',name:'ç·åˆç—…é™¢'},
{id:32,type:'rest',name:'ãƒªã‚¾ãƒ¼ãƒˆ'},{id:33,type:'trouble',name:'è©æ¬º'},{id:34,type:'job',name:'æŠ•è³‡'},{id:35,type:'property',name:'è±ªé‚¸',price:8000,rent:1500},
{id:36,type:'event',name:'ã‚¬ãƒ©ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ¼'},{id:37,type:'chance',name:'ãƒãƒ£ãƒ³ã‚¹'},{id:38,type:'school',name:'MBA'},{id:39,type:'goal',name:'ã‚´ãƒ¼ãƒ«'}
];
let gameState={mode:null,currentPlayer:1,players:[
{id:1,name:'P1',pos:0,money:5000,health:100,energy:100,properties:[]},
{id:2,name:'P2',pos:0,money:5000,health:100,energy:100,properties:[]}
],diceRolled:false};
window.addEventListener('load',()=>{
setTimeout(()=>{document.getElementById('logoScreen').classList.add('hide')},2000);
});
function showScreen(id){document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));document.getElementById(id).classList.add('active');}
function selectMode(mode){gameState.mode=mode;document.querySelectorAll('.mode-card').forEach(c=>c.classList.remove('selected'));event.target.closest('.mode-card').classList.add('selected');
showToast(mode==='pvp'?'å¯¾äººæˆ¦ã‚’é¸æŠ':'CPUå¯¾æˆ¦ã‚’é¸æŠ','success');setTimeout(()=>showScreen('settingsScreen'),500);}
function startGame(){
gameState.players[0].name=document.getElementById('p1Name').value||'ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼1';
gameState.players[1].name=document.getElementById('p2Name').value||'ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼2';
document.getElementById('p1NameDisplay').textContent=gameState.players[0].name;
document.getElementById('p2NameDisplay').textContent=gameState.players[1].name;
renderBoard();showScreen('gameScreen');updateUI();showToast('ã‚²ãƒ¼ãƒ é–‹å§‹ï¼','success');
}
function renderBoard(){
const board=document.getElementById('board');board.innerHTML='';
SPACES.forEach(space=>{
const div=document.createElement('div');div.className=`space ${space.type}`;div.textContent=space.id;
div.onclick=()=>showToast(`${space.name}ï¼ˆãƒã‚¹${space.id}ï¼‰`,'info');board.appendChild(div);
});
}
function rollDice(){
if(gameState.diceRolled)return;
gameState.diceRolled=true;document.getElementById('rollBtn').disabled=true;
document.getElementById('diceContainer').style.display='flex';
const d1=document.getElementById('dice1'),d2=document.getElementById('dice2');
let rolls=0;const int=setInterval(()=>{
d1.textContent=Math.floor(Math.random()*6)+1;d2.textContent=Math.floor(Math.random()*6)+1;
rolls++;if(rolls>=15){clearInterval(int);
const v1=Math.floor(Math.random()*6)+1,v2=Math.floor(Math.random()*6)+1,total=v1+v2;
d1.textContent=v1;d2.textContent=v2;
showToast(`ã‚µã‚¤ã‚³ãƒ­: ${total}`,'info');
setTimeout(()=>{movePlayer(total)},1000);
}
},100);
}
function movePlayer(steps){
const p=gameState.players[gameState.currentPlayer-1];
let newPos=p.pos+steps;
if(newPos>=40){p.money+=1000;showToast(`${p.name}ãŒã‚¹ã‚¿ãƒ¼ãƒˆé€šéï¼+1000å††`,'success');}
newPos=newPos%40;p.pos=newPos;
const space=SPACES[newPos];
processSpace(space,p);updateUI();
document.getElementById('endBtn').disabled=false;
}
function processSpace(space,p){
if(space.type==='job'){p.money+=800;p.energy-=15;showToast(`${space.name}: +800å††, -15ã‚¨ãƒãƒ«ã‚®ãƒ¼`,'success');}
else if(space.type==='school'){p.energy-=10;p.money-=300;showToast(`${space.name}: -10ã‚¨ãƒãƒ«ã‚®ãƒ¼, -300å††`,'info');}
else if(space.type==='hospital'){p.health=Math.min(100,p.health+30);p.money-=500;showToast(`${space.name}: +30ä½“åŠ›, -500å††`,'success');}
else if(space.type==='rest'){p.energy=Math.min(100,p.energy+25);p.health=Math.min(100,p.health+10);showToast(`${space.name}: +25ã‚¨ãƒãƒ«ã‚®ãƒ¼, +10ä½“åŠ›`,'success');}
else if(space.type==='trouble'){p.health-=20;p.energy-=15;showToast(`ãƒˆãƒ©ãƒ–ãƒ«ï¼-20ä½“åŠ›, -15ã‚¨ãƒãƒ«ã‚®ãƒ¼`,'error');}
else if(space.type==='property'){
if(confirm(`${space.name}ã‚’${space.price}å††ã§è³¼å…¥ã—ã¾ã™ã‹ï¼Ÿ`)){
if(p.money>=space.price){p.money-=space.price;p.properties.push(space);showToast(`${space.name}ã‚’è³¼å…¥ï¼`,'success');}
else showToast('ãŠé‡‘ãŒè¶³ã‚Šã¾ã›ã‚“','error');
}}
else if(space.type==='goal'){endGame();}
checkGameOver();
}
function endTurn(){
gameState.currentPlayer=gameState.currentPlayer===1?2:1;
gameState.diceRolled=false;
document.getElementById('rollBtn').disabled=false;
document.getElementById('endBtn').disabled=true;
document.getElementById('diceContainer').style.display='none';
updateUI();
if(gameState.mode==='cpu'&&gameState.currentPlayer===2){setTimeout(cpuTurn,1500);}
}
function cpuTurn(){rollDice();}
function updateUI(){
gameState.players.forEach((p,i)=>{
const pre=i===0?'p1':'p2';
document.getElementById(`${pre}Money`).textContent=`${p.money}å††`;
document.getElementById(`${pre}Pos`).textContent=SPACES[p.pos].name;
document.getElementById(`${pre}Health`).textContent=p.health;
document.getElementById(`${pre}Energy`).textContent=p.energy;
document.getElementById(`${pre}HealthBar`).style.width=`${p.health}%`;
document.getElementById(`${pre}EnergyBar`).style.width=`${p.energy}%`;
});
document.getElementById('p1Card').classList.toggle('active',gameState.currentPlayer===1);
document.getElementById('p2Card').classList.toggle('active',gameState.currentPlayer===2);
}
function checkGameOver(){
const p=gameState.players[gameState.currentPlayer-1];
if(p.health<=0||p.money<-1000){endGame();}
}
function endGame(){
const p1=gameState.players[0],p2=gameState.players[1];
const s1=p1.money+(p1.health*10)+(p1.energy*10)+(p1.properties.length*1000);
const s2=p2.money+(p2.health*10)+(p2.energy*10)+(p2.properties.length*1000);
const winner=s1>s2?p1:p2;
document.getElementById('resultTitle').textContent='ã‚²ãƒ¼ãƒ çµ‚äº†ï¼';
document.getElementById('resultText').textContent=`ğŸ† ${winner.name}ã®å‹åˆ©ï¼\n\nã‚¹ã‚³ã‚¢: ${winner.name} ${s1>s2?s1:s2}pt vs ${s1>s2?s2:s1}pt`;
document.getElementById('resultModal').classList.add('active');
}
function restartGame(){document.getElementById('resultModal').classList.remove('active');showScreen('settingsScreen');}
function backToMenu(){document.getElementById('resultModal').classList.remove('active');showScreen('menuScreen');}
function showToast(msg,type){
const toast=document.getElementById('toast');
toast.textContent=msg;toast.className=`toast ${type}`;toast.classList.add('show');
setTimeout(()=>toast.classList.remove('show'),3000);
}
</script>
</body>
</html>
